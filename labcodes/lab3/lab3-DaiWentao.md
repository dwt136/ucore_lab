# Lab3 report

## 练习0
练习0.1. 请把你做的实验1/2的代码填入本实验中代码中有“LAB1”,“LAB2”的注释相应部分。
```
已填写
```

## 练习1
练习1.1. 请描述页目录项（Pag Director Entry）和页表（Page Table Entry）中组成部分对ucore实现页替换算法的潜在用处。
```
定位页面，过滤非法访问的页面。
```

练习1.2. 如果ucore的缺页服务例程在执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？
```
再次调用缺页服务例程，换入上次出现异常的页面。
```


## 练习2
练习2.1. 如果要在ucore上实现"extended clock页替换算法"请给你的设计方案，现有的swap_manager框架是否足以支持在ucore中实现此算法？如果是，请给你的设计方案。如果不是，请给出你的新的扩展和基此扩展的设计方案。并需要回答如下问题
- 需要被换出的页的特征是什么？
- 在ucore中如何判断具有这样特征的页？
- 何时进行换入和换出操作？
```
否。现在的框架没有对应于页面访问时触发的函数，因此页面替换算法无法得知页面是否被访问过。
扩展方案：加入map_modified的函数，当页面被访问时调用。

- 修改位和访问位都是0，而且是“时钟指针”扫过的第一块这样的页。
- 修改位可以利用页面的`PTE_D`标记。访问位和“时钟指针”由页面置换算法自行记录。
- 页缺失时换入并换出。
```
